# Basic ALSA configuration to work around common issues
# Copy this to ~/.asoundrc or /etc/asound.conf if you're having ALSA issues

pcm.!default {
    type pulse
    fallback "sysdefault"
    hint {
        show on
        description "Default ALSA Output (with fallback)"
    }
}

ctl.!default {
    type pulse
    fallback "sysdefault"
}

# Define a null device for when no hardware is available
pcm.null {
    type null
    hint {
        show on
        description "Null Output"
    }
}

# Define a software mixer
pcm.dsp0 {
    type plug
    slave.pcm "default"
}

# Use dmix for better application compatibility
pcm.dmixer {
    type dmix
    ipc_key 1024
    slave {
        pcm "default"
        period_time 0
        period_size 1024
        buffer_size 4096
        rate 44100
    }
    bindings {
        0 0
        1 1
    }
}

# Define a simple speaker output
pcm.speaker {
    type plug
    slave.pcm "default"
}

# Define a simple microphone input
pcm.microphone {
    type plug
    slave.pcm "default"
}